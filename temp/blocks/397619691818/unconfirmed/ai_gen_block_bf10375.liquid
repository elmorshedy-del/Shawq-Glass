{% doc %}
  @prompt
    Add typography customization settings to the scrolling content section including:
    1. Font family selector (with Helvetica and other theme fonts available)
    2. Font size control with range slider (12px to 24px)
    3. Bold text toggle option
    4. Font weight selector
    
    These settings should appear in the theme editor when the scrolling content section is selected and apply to all text within the scrolling content.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-scrolling-content-{{ ai_gen_id }} {
    width: 100%;
    overflow: hidden;
    padding: {{ block.settings.vertical_padding }}px 0;
    background-color: {{ block.settings.background_color }};
  }

  .ai-scrolling-content-wrapper-{{ ai_gen_id }} {
    display: flex;
    width: fit-content;
    animation: ai-scroll-{{ ai_gen_id }} {{ block.settings.scroll_speed }}s linear infinite;
  }

  .ai-scrolling-content-item-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    white-space: nowrap;
    padding: 0 {{ block.settings.item_spacing }}px;
    font-family: {{ block.settings.font_family.family }}, {{ block.settings.font_family.fallback_families }};
    font-weight: {% if block.settings.bold_text %}{{ block.settings.font_weight }}{% else %}{{ block.settings.font_family.weight }}{% endif %};
    font-size: {{ block.settings.font_size }}px;
    color: {{ block.settings.text_color }};
  }

  .ai-scrolling-content-separator-{{ ai_gen_id }} {
    width: {{ block.settings.separator_size }}px;
    height: {{ block.settings.separator_size }}px;
    background-color: {{ block.settings.separator_color }};
    border-radius: 50%;
    margin: 0 {{ block.settings.item_spacing }}px;
    flex-shrink: 0;
  }

  @keyframes ai-scroll-{{ ai_gen_id }} {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .ai-scrolling-content-wrapper-{{ ai_gen_id }}:hover {
    animation-play-state: {% if block.settings.pause_on_hover %}paused{% else %}running{% endif %};
  }

  @media screen and (max-width: 749px) {
    .ai-scrolling-content-item-{{ ai_gen_id }} {
      font-size: {{ block.settings.font_size | times: 0.85 | round }}px;
    }
  }
{% endstyle %}

<div class="ai-scrolling-content-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-scrolling-content-wrapper-{{ ai_gen_id }}">
    {% for i in (1..2) %}
      {% if block.settings.text_1 != blank %}
        <div class="ai-scrolling-content-item-{{ ai_gen_id }}">{{ block.settings.text_1 }}</div>
        {% if block.settings.show_separator %}
          <div class="ai-scrolling-content-separator-{{ ai_gen_id }}"></div>
        {% endif %}
      {% endif %}

      {% if block.settings.text_2 != blank %}
        <div class="ai-scrolling-content-item-{{ ai_gen_id }}">{{ block.settings.text_2 }}</div>
        {% if block.settings.show_separator %}
          <div class="ai-scrolling-content-separator-{{ ai_gen_id }}"></div>
        {% endif %}
      {% endif %}

      {% if block.settings.text_3 != blank %}
        <div class="ai-scrolling-content-item-{{ ai_gen_id }}">{{ block.settings.text_3 }}</div>
        {% if block.settings.show_separator %}
          <div class="ai-scrolling-content-separator-{{ ai_gen_id }}"></div>
        {% endif %}
      {% endif %}

      {% if block.settings.text_4 != blank %}
        <div class="ai-scrolling-content-item-{{ ai_gen_id }}">{{ block.settings.text_4 }}</div>
        {% if block.settings.show_separator %}
          <div class="ai-scrolling-content-separator-{{ ai_gen_id }}"></div>
        {% endif %}
      {% endif %}

      {% if block.settings.text_5 != blank %}
        <div class="ai-scrolling-content-item-{{ ai_gen_id }}">{{ block.settings.text_5 }}</div>
        {% if block.settings.show_separator %}
          <div class="ai-scrolling-content-separator-{{ ai_gen_id }}"></div>
        {% endif %}
      {% endif %}
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Scrolling content",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "text_1",
      "label": "Text 1",
      "default": "Free shipping on orders over $50"
    },
    {
      "type": "text",
      "id": "text_2",
      "label": "Text 2",
      "default": "Shop the latest collection"
    },
    {
      "type": "text",
      "id": "text_3",
      "label": "Text 3",
      "default": "New arrivals every week"
    },
    {
      "type": "text",
      "id": "text_4",
      "label": "Text 4"
    },
    {
      "type": "text",
      "id": "text_5",
      "label": "Text 5"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "font_picker",
      "id": "font_family",
      "label": "Font",
      "default": "helvetica_n4"
    },
    {
      "type": "range",
      "id": "font_size",
      "label": "Font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "checkbox",
      "id": "bold_text",
      "label": "Bold text",
      "default": false
    },
    {
      "type": "select",
      "id": "font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        },
        {
          "value": "800",
          "label": "Extra bold"
        }
      ],
      "default": "700"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Separator"
    },
    {
      "type": "checkbox",
      "id": "show_separator",
      "label": "Show separator",
      "default": true
    },
    {
      "type": "range",
      "id": "separator_size",
      "label": "Separator size",
      "min": 2,
      "max": 12,
      "step": 1,
      "unit": "px",
      "default": 6
    },
    {
      "type": "color",
      "id": "separator_color",
      "label": "Separator color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Animation"
    },
    {
      "type": "range",
      "id": "scroll_speed",
      "label": "Scroll speed",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "s",
      "default": 30
    },
    {
      "type": "checkbox",
      "id": "pause_on_hover",
      "label": "Pause on hover",
      "default": true
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "item_spacing",
      "label": "Item spacing",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "vertical_padding",
      "label": "Vertical padding",
      "min": 0,
      "max": 40,
      "step": 4,
      "unit": "px",
      "default": 16
    }
  ],
  "presets": [
    {
      "name": "Scrolling content"
    }
  ]
}
{% endschema %}
